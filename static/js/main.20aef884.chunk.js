(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t){e.exports={API_GET_ITEMS:"https://node-cart-application.herokuapp.com/api/storage",API_POST_ITEMS:"https://node-cart-application.herokuapp.com/api/order",imageRoot:"../../assets/images/",images:["bread","cake","croissant","cupcake","fireworks","muffin","pancake","pretzel","waffle"]}},28:function(e,t,c){var n={"./bread.png":38,"./cake.png":39,"./croissant.png":40,"./cupcake.png":41,"./fireworks.png":29,"./muffin.png":42,"./pancake.png":43,"./pretzel.png":44,"./success.png":45,"./waffle.png":46};function a(e){var t=s(e);return c(t)}function s(e){if(!c.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=s,e.exports=a,a.id=28},29:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/fireworks.e482de27.png"},35:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/bread.aad821ab.png"},39:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/cake.7165a6a8.png"},40:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/croissant.02c3b215.png"},41:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/cupcake.8e7ad954.png"},42:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/muffin.bf155adc.png"},43:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/pancake.e36adce5.png"},44:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/pretzel.c3dde414.png"},45:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/success.f17aa7a6.png"},46:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/waffle.a11ad353.png"},57:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(20),r=c.n(s),i=(c(35),c(15)),o=c(3),u=c(17),l=c(12),d=c.n(l),j=c(14),m=c(7),f=c(9),b=(c(27),c(1)),p=function(e){var t=e.item,n=e.setCart,a=c(28)("./"+t.name.toLowerCase()+".png");return Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:t.stock>1?"cart-item":"out-stock cart-item",children:[Object(b.jsx)("img",{src:a.default,alt:t.name}),Object(b.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(b.jsx)("span",{className:"product-name",children:t.name}),Object(b.jsx)("span",{className:"product-price",children:"$"+t.price})]}),Object(b.jsx)("button",{onClick:function(){return n(t)},children:"Add to Cart"})]})})},O=Object(n.createContext)({cartCount:"0",myCart:[],setCount:function(e){},setMyCart:function(e){}});O.displayName="Cart";var h=function(){return Object(n.useContext)(O)};function x(e){var t=Object(n.useState)("0"),c=Object(m.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),i=Object(m.a)(r,2),o=i[0],u=i[1];return Object(b.jsx)(O.Provider,{value:{cartCount:a,setCount:s,myCart:o,setMyCart:u},children:e.children})}var g=c(11),v=c(10),N=function(){var e=Object(n.useState)("0"),t=Object(m.a)(e,2),c=t[0],a=t[1],s=h().cartCount,r=Object(o.f)();return Object(n.useEffect)((function(){a(s.toString())}),[s]),Object(b.jsx)("section",{id:"navbar",className:"sticky-top",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row justify-content-between",children:[Object(b.jsx)("div",{className:"col-5",children:Object(b.jsx)("span",{className:"logo",onClick:function(){return r.push("")},children:"Bakery"})}),Object(b.jsx)("div",{className:"col-5",children:Object(b.jsxs)("div",{className:"logo-section",children:[Object(b.jsx)(g.a,{icon:v.a,onClick:function(){return r.push("/cart")}}),Object(b.jsx)("span",{className:"cart-count",children:c})]})})]})})})},y=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=6;break}return e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,t.json();case 8:throw e.sent;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,c,n){var a=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],s=0;a.forEach((function(e){s+=e.price*e.quantity})),e(a.length),t(a),c(a),n&&n(s)},C=function(e){var t=e.setFilterdItems,c=e.products;return Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12 position-relative",children:[Object(b.jsx)("input",{placeholder:"Enter Text to Search",onChange:function(e){return t((n=c,a=e.target.value,n.filter((function(e){return e.name.toLowerCase().includes(a)}))));var n,a},className:"search"}),Object(b.jsx)(g.a,{icon:v.d,className:"search-icon"})]})})},w=c(22),S=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(m.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)(null),O=Object(m.a)(l,2),x=O[0],g=O[1],v=h(),S=v.setCount,I=v.setMyCart;Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.API_GET_ITEMS,e.prev=1,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,y(n);case 7:s=e.sent,(null===(c=s.storage)||void 0===c?void 0:c.length)>0?(a(s.storage),o(s.storage)):f.b.info("No item available"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),f.b.error("Error: API failed to fetch Items!");case 14:k(S,I,g);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S,I]);var E=function(e){e.quantity=1;var t=null!==x?Object(u.a)(x):[];t.some((function(t){return e.name===t.name}))?f.b.error(e.name+" already in cart!"):(t.push(e),S(t.length),g(t),f.b.success(e.name+" succesfully added to the cart!"),localStorage.setItem("cartItems",JSON.stringify(t)))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(N,{}),Object(b.jsx)("section",{id:"products",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)(C,{setFilterdItems:o,products:c}),Object(b.jsx)("div",{className:"row mt-0 mt-md-4",children:i.map((function(e,t){return Object(b.jsx)(p,{item:e,setCart:E},t)}))})]})}),Object(b.jsx)(f.a,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},I=function(e){var t=e.item,n=e.cartPlus,a=e.cartMinus,s=c(28)("./"+t.name.toLowerCase()+".png");return Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:t.quantity===t.stock?"cart-item max-quantity":"cart-item",children:[Object(b.jsx)("img",{src:s.default,alt:t.name}),Object(b.jsxs)("div",{className:"d-flex flex-column align-items-center mt-2 mt-md-0",children:[Object(b.jsx)("span",{className:"product-name",children:t.name}),Object(b.jsx)("span",{className:"product-price",children:"$"+t.price})]}),Object(b.jsxs)("div",{className:"d-flex align-items-center mt-2 mt-md-0",children:[Object(b.jsx)("span",{className:"quantity",children:t.quantity?t.quantity:1}),Object(b.jsx)(g.a,{icon:v.c,className:"cart-action",onClick:function(){return n(t)}}),Object(b.jsx)(g.a,{icon:v.b,className:"cart-action",onClick:function(){return a(t)}})]})]})})},E=function(e){var t=e.clearCart,c=e.disabled;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("button",{className:c?"clear-cart":"disabled clear-cart",onClick:function(){return t()},children:["Clear Cart ",Object(b.jsx)(g.a,{icon:v.e})]})})})})},q=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(0),r=Object(m.a)(s,2),i=r[0],l=r[1],p=h(),O=p.setCount,x=p.setMyCart,g=Object(o.f)();Object(n.useEffect)((function(){k(O,x,a,l)}),[O,x]);var v=function(e){var t=0,n=!0,s=null!==c?Object(u.a)(c):[];s.map((function(t){if(t.name===e.name){if(t.quantity===t.stock)return f.b.error("No More Stock Available"),n=!1,0;t.stock-t.quantity===1&&f.b.info("No More Items In Stock"),t.quantity=t.quantity?t.quantity+1:2}})),n&&(s.forEach((function(e){t+=e.price*e.quantity})),l(t),a(s),localStorage.setItem("cartItems",JSON.stringify(s)))},C=function(e){var t=0,n=null!==c?Object(u.a)(c):[];if(e.quantity>1)n.map((function(t){t.name===e.name&&(t.quantity=t.quantity-1)})),n.forEach((function(e){t+=e.price*e.quantity})),l(t),a(n),localStorage.setItem("cartItems",JSON.stringify(n));else{var s=n.filter((function(t){return t.name!==e.name}));s.forEach((function(e){t+=e.price*e.quantity})),a(s),x(s),O(s.length),l(t),localStorage.setItem("cartItems",JSON.stringify(s))}},S=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({items:c})},e.prev=1,e.next=4,fetch(w.API_POST_ITEMS,t);case 4:return n=e.sent,e.next=7,y(n);case 7:"success"===e.sent.message&&g.push("/cart/success"),q(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),f.b.error(e.t0.error);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),q=function(){c.length<1&&f.b.info("Cart is Empty"),a([]),l(0),x([]),O(0),localStorage.setItem("cartItems",JSON.stringify([]))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(N,{}),Object(b.jsx)("section",{id:"cart",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)(E,{clearCart:q,disabled:c.length>0}),Object(b.jsxs)("div",{className:"row mt-0 mt-md-4 justify-content-center align-items-center",children:[c.length>0?c.map((function(e,t){return Object(b.jsx)(I,{item:e,cartPlus:v,cartMinus:C},t)})):"No Items in Cart",Object(b.jsx)("div",{className:"col-12 price-card-wrapper",children:Object(b.jsxs)("div",{className:"price-card",children:[Object(b.jsxs)("div",{className:"text-wrapper d-flex justify-content-between",children:[Object(b.jsx)("span",{children:"Total Price:"}),Object(b.jsx)("span",{children:"$"+i.toFixed(2)})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"gradient-btn",onClick:function(){return c.length>0?S():g.push("")},children:c.length>0?"Order Now":"Add More Items"})})]})})]})]})}),Object(b.jsx)(f.a,{position:"top-right",autoClose:1500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},T=function(){var e=Object(o.f)();return Object(b.jsx)("section",{id:"success",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("div",{className:"row justify-content-center align-items-center",children:Object(b.jsxs)("div",{className:"col-12 col-md-9",children:[Object(b.jsx)("h2",{className:"my-3",children:"Order Received"}),Object(b.jsx)("img",{className:"d-block mx-auto my-4",alt:"Success",src:c(29).default}),Object(b.jsx)("h1",{className:"text-center",children:"Thank You!"}),Object(b.jsx)("p",{className:"text-center my-3",children:"We have successfully received your order!"}),Object(b.jsx)("button",{className:"gradient-btn",onClick:function(){return e.push("/")},children:"Submit another order"})]})})})})};c(57);var M=function(){return Object(n.useEffect)((function(){function e(){window.innerWidth>1440?document.documentElement.style.fontSize=window.innerWidth/1920*16+"px":document.documentElement.style.fontSize="16px"}return window.addEventListener("resize",(function(){e()}),!1),window.removeEventListener("resize",e())}),[]),Object(b.jsx)(x,{children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,children:Object(b.jsx)(S,{})}),Object(b.jsx)(o.a,{path:"/cart",exact:!0,children:Object(b.jsx)(q,{})}),Object(b.jsx)(o.a,{path:"/cart/success",exact:!0,children:Object(b.jsx)(T,{})})]})})})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root")),P()}},[[58,1,2]]]);
//# sourceMappingURL=main.20aef884.chunk.js.map